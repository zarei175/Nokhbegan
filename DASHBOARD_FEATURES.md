# راهنمای قابلیت‌های پنل مدیریت

## 🎯 قابلیت‌های جدید اضافه شده

### 1️⃣ مشاهده جزئیات دانش آموز

**نحوه استفاده:**
1. وارد پنل مدیریت شوید
2. در جدول دانش آموزان، روی دکمه 👁️ (مشاهده) کلیک کنید
3. یک پنجره با جزئیات کامل دانش آموز نمایش داده می‌شود

**اطلاعات نمایش داده شده:**
- ✅ نام و نام خانوادگی
- ✅ نام پدر
- ✅ کد ملی
- ✅ کلاس
- ✅ آدرس کامل
- ✅ بیماری‌های خاص
- ✅ شغل پدر و مادر
- ✅ شماره تماس پدر، مادر و دانش آموز
- ✅ تاریخ و زمان ثبت نام

**ویژگی‌ها:**
- 🎨 طراحی زیبا و مدرن
- 📱 سازگار با موبایل
- ⚡ سریع و روان
- ❌ دکمه بستن آسان

---

### 2️⃣ نمایش دانش آموزان بدون ثبت نام به تفکیک کلاس

**نحوه استفاده:**
1. وارد پنل مدیریت شوید
2. روی دکمه "📋 نمایش دانش آموزان بدون ثبت نام" کلیک کنید
3. لیست دانش آموزان به تفکیک کلاس نمایش داده می‌شود

**ویژگی‌ها:**
- 📊 گروه‌بندی خودکار بر اساس کلاس
- 🔢 نمایش تعداد دانش آموزان هر کلاس
- 🆔 نمایش کد ملی (در صورت وجود)
- 🎨 طراحی رنگی و جذاب
- 📱 سازگار با موبایل

**منابع داده:**
سیستم دانش آموزان بدون ثبت نام را از دو منبع می‌گیرد:
1. جدول `expected_students` (دانش آموزان مورد انتظار)
2. جدول `allowed_national_ids` (کدهای ملی مجاز که استفاده نشده‌اند)

---

### 3️⃣ خروجی اکسل دانش آموزان بدون ثبت نام

#### 📥 خروجی کل دانش آموزان

**نحوه استفاده:**
1. روی "📋 نمایش دانش آموزان بدون ثبت نام" کلیک کنید
2. روی دکمه "📊 خروجی اکسل" کلیک کنید
3. فایل اکسل خودکار دانلود می‌شود

**محتویات فایل:**
- **Sheet خلاصه:** آمار کلی و تعداد هر کلاس
- **Sheet هر کلاس:** لیست دانش آموزان آن کلاس
- **Sheet لیست کامل:** همه دانش آموزان در یک لیست

**ستون‌های فایل:**
- ردیف
- نام
- نام خانوادگی
- کلاس
- کد ملی

#### 📥 خروجی یک کلاس خاص

**نحوه استفاده:**
1. روی "📋 نمایش دانش آموزان بدون ثبت نام" کلیک کنید
2. در هر کلاس، روی دکمه "📥 خروجی این کلاس" کلیک کنید
3. فایل اکسل فقط برای آن کلاس دانلود می‌شود

**محتویات فایل:**
- اطلاعات کلاس (نام، تاریخ، تعداد)
- لیست دانش آموزان آن کلاس
- فرمت‌بندی زیبا و حرفه‌ای

---

## 🎨 تصاویر و نمونه‌ها

### نمایش جزئیات دانش آموز
```
┌─────────────────────────────────────┐
│  جزئیات دانش آموز              ×  │
├─────────────────────────────────────┤
│                                     │
│  نام و نام خانوادگی: علی احمدی   │
│  نام پدر: محمد                     │
│  کد ملی: 1234567890                │
│  کلاس: ۷۰۱                         │
│  آدرس: تهران، خیابان آزادی         │
│  بیماری خاص: ندارد                 │
│  شغل پدر: مهندس                    │
│  شغل مادر: معلم                     │
│  شماره پدر: 09123456789            │
│  شماره مادر: 09123456788           │
│  تاریخ ثبت: 1404/10/05             │
│                                     │
└─────────────────────────────────────┘
```

### نمایش دانش آموزان بدون ثبت نام
```
┌─────────────────────────────────────────────┐
│  دانش آموزان بدون ثبت نام (15 نفر)        │
│                          [📊 خروجی اکسل]   │
├─────────────────────────────────────────────┤
│                                             │
│  ┌─ کلاس ۷۰۱ (5 نفر) ──[📥 خروجی]──┐     │
│  │  1  علی احمدی      1234567890    │     │
│  │  2  فاطمه رضایی    0987654321    │     │
│  │  3  محمد علیزاده   1122334455    │     │
│  └────────────────────────────────────┘     │
│                                             │
│  ┌─ کلاس ۷۰۲ (3 نفر) ──[📥 خروجی]──┐     │
│  │  1  زهرا محمدی     5544332211    │     │
│  │  2  حسین کریمی     6677889900    │     │
│  └────────────────────────────────────┘     │
│                                             │
└─────────────────────────────────────────────┘
```

---

## 📊 ساختار فایل اکسل خروجی

### فایل کامل (همه کلاس‌ها)

**Sheet 1: خلاصه**
```
گزارش دانش آموزان بدون ثبت نام
تاریخ: 1404/10/05
تعداد کل: 15

کلاس    تعداد
۷۰۱      5
۷۰۲      3
۸۰۱      4
۸۰۲      3
```

**Sheet 2: کلاس ۷۰۱**
```
دانش آموزان بدون ثبت نام - کلاس ۷۰۱

ردیف  نام      نام خانوادگی  کد ملی
1      علی      احمدی          1234567890
2      فاطمه    رضایی          0987654321
3      محمد     علیزاده        1122334455
```

**Sheet 3-N: سایر کلاس‌ها**
(به همین ترتیب برای هر کلاس)

**Sheet آخر: لیست کامل**
```
لیست کامل دانش آموزان بدون ثبت نام

ردیف  نام      نام خانوادگی  کلاس  کد ملی
1      علی      احمدی          ۷۰۱    1234567890
2      فاطمه    رضایی          ۷۰۱    0987654321
...
```

---

## 💡 نکات مهم

### برای مدیران:

1. **بررسی منظم:**
   - هر روز لیست دانش آموزان بدون ثبت نام را چک کنید
   - با خانواده‌های بدون ثبت نام تماس بگیرید

2. **خروجی اکسل:**
   - فایل‌های اکسل را برای آرشیو نگه دارید
   - می‌توانید آنها را چاپ کنید
   - قابل ویرایش و اضافه کردن یادداشت هستند

3. **گروه‌بندی کلاس:**
   - هر کلاس جداگانه قابل بررسی است
   - می‌توانید مسئولیت هر کلاس را به یک نفر بدهید

### برای کاربران:

1. **دسترسی:**
   - فقط با ورود به پنل مدیریت قابل دسترسی است
   - نیاز به نام کاربری و رمز عبور دارد

2. **به‌روزرسانی:**
   - لیست به صورت خودکار به‌روز می‌شود
   - بعد از هر ثبت نام، فرد از لیست حذف می‌شود

3. **خروجی:**
   - فایل‌های اکسل با فرمت فارسی ذخیره می‌شوند
   - نام فایل شامل تاریخ است

---

## 🔧 عیب‌یابی

### مشکل: لیست خالی است
**راه‌حل:**
- مطمئن شوید لیست دانش آموزان مورد انتظار آپلود شده
- یا لیست کدهای ملی مجاز آپلود شده باشد

### مشکل: خروجی اکسل کار نمی‌کند
**راه‌حل:**
- مطمئن شوید کتابخانه XLSX بارگذاری شده
- کنسول مرورگر را برای خطا چک کنید
- صفحه را رفرش کنید

### مشکل: جزئیات دانش آموز نمایش داده نمی‌شود
**راه‌حل:**
- صفحه را رفرش کنید
- از مرورگر به‌روز استفاده کنید
- کنسول را برای خطا چک کنید

---

## 📞 پشتیبانی

اگر مشکلی داشتید:
1. کنسول مرورگر را چک کنید (F12)
2. فایل TROUBLESHOOTING_FIXED.md را بخوانید
3. با مدیر سیستم تماس بگیرید

---

**نسخه:** 2.1.0  
**تاریخ:** ${new Date().toLocaleDateString('fa-IR')}  
**وضعیت:** ✅ فعال و آماده استفاده
