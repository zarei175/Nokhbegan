<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุซุจุช ุงุทูุงุนุงุช ุฏุงูุด ุขููุฒุงู - ูุฏุฑุณู ูุงุช ุงููุง ูุฎุจฺฏุงู</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazir:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- ูุฏุฑ -->
        <header class="header">
            <div class="logo-container">
                <img src="https://raw.githubusercontent.com/zarei176/students_data/main/photo21102117588.jpg" alt="ููฺฏู ูุฏุฑุณู ูุงุช ุงููุง ูุฎุจฺฏุงู" class="school-logo">
            </div>
            <div class="header-text">
                <h1>ูุฏุฑุณู ูุงุช ุงููุง ูุฎุจฺฏุงู</h1>
                <p class="school-motto">ุจุง ุฏุงูุด ู ุงูุงูุ ูุงุชุญ ูุฏุงู ุจุงุด ...</p>
                <p class="academic-year">ุณุงู ุชุญุตู ฑดฐต-ฑดฐด</p>
            </div>
        </header>

        <!-- ููู ูุงูุจุฑ -->
        <nav class="navigation">
            <div class="nav-buttons">
                <button class="nav-btn active" id="registrationBtn">ุซุจุช ุงุทูุงุนุงุช ุฏุงูุด ุขููุฒ</button>
                <button class="nav-btn" id="dashboardBtn">ูพูู ูุฏุฑุช</button>
            </div>
        </nav>

        <!-- ูุฑู ุซุจุช ุงุทูุงุนุงุช ุฏุงูุด ุขููุฒ -->
        <section id="registrationSection" class="form-section">
            <div class="form-container">
                <h2>ูุฑู ุซุจุช ุงุทูุงุนุงุช ุฏุงูุด ุขููุฒ</h2>
                <form id="studentForm">
                    <div class="form-grid">
                        <!-- ุงุทูุงุนุงุช ุฏุงูุด ุขููุฒ -->
                        <div class="form-group">
                            <label for="firstName">ูุงู:</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>

                        <div class="form-group">
                            <label for="lastName">ูุงู ุฎุงููุงุฏฺฏ:</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>

                        <div class="form-group">
                            <label for="fatherName">ูุงู ูพุฏุฑ:</label>
                            <input type="text" id="fatherName" name="fatherName" required>
                        </div>

                        <div class="form-group">
                            <label for="nationalId">ฺฉุฏ ูู:</label>
                            <input type="text" id="nationalId" name="nationalId" pattern="[0-9]{10}" maxlength="10" required>
                        </div>

                        <div class="form-group">
                            <label for="className">ฺฉูุงุณ:</label>
                            <select id="className" name="className" required>
                                <option value="">ุงูุชุฎุงุจ ฺฉูุงุณ</option>
                                <option value="ทฐฑ">ทฐฑ</option>
                                <option value="ทฐฒ">ทฐฒ</option>
                                <option value="ทฐณ">ทฐณ</option>
                                <option value="ธฐฑ">ธฐฑ</option>
                                <option value="ธฐฒ">ธฐฒ</option>
                                <option value="ธฐณ">ธฐณ</option>
                                <option value="ธฐด">ธฐด</option>
                                <option value="ธฐต">ธฐต</option>
                                <option value="ธฐถ">ธฐถ</option>
                                <option value="ธฐท">ธฐท</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="address">ุขุฏุฑุณ ููุฒู:</label>
                            <textarea id="address" name="address" rows="3" required></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label for="medicalConditions">ุจูุงุฑ ุฎุงุต:</label>
                            <textarea id="medicalConditions" name="medicalConditions" rows="2" placeholder="ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ุจูุงุฑ ุฎุงุตุ ุฎุงู ุจฺฏุฐุงุฑุฏ"></textarea>
                        </div>

                        <!-- ุงุทูุงุนุงุช ูพุฏุฑ -->
                        <div class="section-title">ุงุทูุงุนุงุช ูพุฏุฑ</div>
                        
                        <div class="form-group">
                            <label for="fatherJob">ุดุบู ูพุฏุฑ:</label>
                            <input type="text" id="fatherJob" name="fatherJob" required>
                        </div>

                        <div class="form-group">
                            <label for="fatherPhone">ุดูุงุฑู ููุฑุงู ูพุฏุฑ:</label>
                            <input type="tel" id="fatherPhone" name="fatherPhone" pattern="09[0-9]{9}" maxlength="11" required>
                        </div>

                        <!-- ุงุทูุงุนุงุช ูุงุฏุฑ -->
                        <div class="section-title">ุงุทูุงุนุงุช ูุงุฏุฑ</div>
                        
                        <div class="form-group">
                            <label for="motherJob">ุดุบู ูุงุฏุฑ:</label>
                            <input type="text" id="motherJob" name="motherJob" required>
                        </div>

                        <div class="form-group">
                            <label for="motherPhone">ุดูุงุฑู ููุฑุงู ูุงุฏุฑ:</label>
                            <input type="tel" id="motherPhone" name="motherPhone" pattern="09[0-9]{9}" maxlength="11" required>
                        </div>

                        <div class="form-group">
                            <label for="studentPhone">ุดูุงุฑู ููุฑุงู ุฏุงูุด ุขููุฒ:</label>
                            <input type="tel" id="studentPhone" name="studentPhone" pattern="09[0-9]{9}" maxlength="11">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="submit-btn">ุซุจุช ุงุทูุงุนุงุช</button>
                        <button type="reset" class="reset-btn">ูพุงฺฉ ฺฉุฑุฏู ูุฑู</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- ูพูู ูุฏุฑุช -->
        <section id="dashboardSection" class="dashboard-section" style="display: none;">
            <div class="dashboard-container">
                <h2>ูพูู ูุฏุฑุช ุฏุงูุด ุขููุฒุงู</h2>
                
                <!-- ุขูุงุฑ ฺฉู -->
                <div class="stats-container">
                    <div class="stat-card">
                        <h3>ฺฉู ุฏุงูุด ุขููุฒุงู ุซุจุช ุดุฏู</h3>
                        <span class="stat-number" id="totalStudents">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>ุฏุงูุด ุขููุฒุงู ููุฑุฏ ุงูุชุธุงุฑ</h3>
                        <span class="stat-number" id="expectedStudents">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>ฺฉุฏูุง ูู ูุฌุงุฒ</h3>
                        <span class="stat-number" id="allowedStudents">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>ุจุงู ูุงูุฏู ุจุฑุง ุซุจุช ูุงู</h3>
                        <span class="stat-number" id="remainingStudents">0</span>
                    </div>
                </div>

                <!-- ุฏฺฉููโูุง ุนููุงุช -->
                <div class="action-buttons">
                    <button class="action-btn export-btn" id="exportExcel">
                        <span>๐</span>
                        ุฎุฑูุฌ ุงฺฉุณู ุฏุงูุด ุขููุฒุงู ุซุจุช ุดุฏู
                    </button>
                    <button class="action-btn import-btn" id="importExpected">
                        <span>๐</span>
                        ุขูพููุฏ ูุณุช ุฏุงูุด ุขููุฒุงู ููุฑุฏ ุงูุชุธุงุฑ
                    </button>
                    <input type="file" id="fileInput" accept=".xlsx,.xls" style="display: none;">
                    <button class="action-btn import-btn" id="importNationalIds" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">
                        <span>๐</span>
                        ุขูพููุฏ ฺฉุฏูุง ูู ูุฌุงุฒ
                    </button>
                    <input type="file" id="nationalIdsFileInput" accept=".xlsx,.xls" style="display: none;">
                    <button class="action-btn export-btn" id="exportNationalIds" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);">
                        <span>๐</span>
                        ุฎุฑูุฌ ฺฉุฏูุง ูู ูุฌุงุฒ
                    </button>
                    <button class="action-btn show-remaining-btn" id="showRemaining">
                        <span>๐</span>
                        ููุงุด ุฏุงูุด ุขููุฒุงู ุจุฏูู ุซุจุช ูุงู
                    </button>
                    <button class="action-btn logout-btn" id="logoutBtn">
                        <span>๐</span>
                        ุฎุฑูุฌ ุงุฒ ูพูู ูุฏุฑุช
                    </button>
                </div>

                <!-- ููุชุฑ ู ุฌุณุชุฌู -->
                <div class="filter-section">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="ุฌุณุชุฌู ุฏุฑ ูุงูุ ูุงู ุฎุงููุงุฏฺฏุ ฺฉุฏ ูู ...">
                        <select id="classFilter">
                            <option value="">ููู ฺฉูุงุณ ูุง</option>
                            <option value="ทฐฑ">ทฐฑ</option>
                            <option value="ทฐฒ">ทฐฒ</option>
                            <option value="ทฐณ">ทฐณ</option>
                            <option value="ธฐฑ">ธฐฑ</option>
                            <option value="ธฐฒ">ธฐฒ</option>
                            <option value="ธฐณ">ธฐณ</option>
                            <option value="ธฐด">ธฐด</option>
                            <option value="ธฐต">ธฐต</option>
                            <option value="ธฐถ">ธฐถ</option>
                            <option value="ธฐท">ธฐท</option>
                        </select>
                    </div>
                </div>

                <!-- ุฌุฏูู ุฏุงูุด ุขููุฒุงู -->
                <div class="table-container">
                    <table class="students-table" id="studentsTable">
                        <thead>
                            <tr>
                                <th>ุฑุฏู</th>
                                <th>ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</th>
                                <th>ฺฉูุงุณ</th>
                                <th>ฺฉุฏ ูู</th>
                                <th>ูุงู ูพุฏุฑ</th>
                                <th>ุดูุงุฑู ูพุฏุฑ</th>
                                <th>ุชุงุฑุฎ ุซุจุช</th>
                                <th>ุนููุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody">
                            <!-- ุฏุชุง ุงุฒ ุทุฑู JavaScript ูพุฑ ุฎูุงูุฏ ุดุฏ -->
                        </tbody>
                    </table>
                </div>

                <!-- ุจุฎุด ููุงุด ุฏุงูุด ุขููุฒุงู ุจุฏูู ุซุจุช ูุงู -->
                <div id="remainingStudentsSection" class="remaining-students-section" style="display: none;">
                    <h3>ุฏุงูุด ุขููุฒุงู ุจุฏูู ุซุจุช ูุงู</h3>
                    <div class="remaining-students-list" id="remainingStudentsList">
                        <!-- ูุณุช ุฏุงูุด ุขููุฒุงู ุจุฏูู ุซุจุช ูุงู -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Loading spinner -->
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <p>ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด...</p>
    </div>

    <!-- Success/Error messages -->
    <div id="messageContainer" class="message-container"></div>

    <!-- Login Modal for Admin Panel -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ูุฑูุฏ ุจู ูพูู ูุฏุฑุช</h3>
                <span class="close-modal" id="closeLoginModal">&times;</span>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">ูุงู ฺฉุงุฑุจุฑ:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">ุฑูุฒ ุนุจูุฑ:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">ูุฑูุฏ</button>
                    <button type="button" class="btn-secondary" id="cancelLogin">ุงูุตุฑุงู</button>
                </div>
            </form>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/error-handler.js"></script>
    <script src="js/connection-manager.js"></script>
    <script src="js/supabase.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/excel.js"></script>
</body>
</html>
